---
import Layout from "../../layouts/Layout.astro";
import { supabase } from "../../lib/supabase";

await supabase.auth.getUser();
---
<Layout title="New Post">
  <h1>Create a New Post</h1>
  <form action="/api/post/new-post" method="post">
    <label for="title">Title</label>
    <input type="text" name="title" id="title" required />
    <label for="content">Content</label>
    <textarea name="content" id="content" required></textarea>
    <button type="submit">Create Post</button>
  </form>
</Layout>
<style>
  h1 {
    @apply font-bold text-2xl;
  }
  form {
    @apply w-1/2 space-y-4;
  }
  label {
    @apply block mb-2 text-sm font-medium text-green-700 dark:text-green-500;
  }
  input, textarea {
    @apply bg-green-50 border border-green-500 text-green-900 placeholder-green-700 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5;
  }
  button {
    @apply text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none;
  }
</style>
